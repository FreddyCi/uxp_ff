/*!
 * Hybrid TextField Component - Official Spectrum CSS + Nuclear Input Approach
 * Following official Spectrum pattern: border goes on INPUT, not wrapper div
 */

/* =============================================================================
   NUCLEAR INPUT + SPECTRUM CSS APPROACH - TEXTFIELD
   ============================================================================= */

/* Container div - NO BORDER, just layout like official Spectrum */
div[role="textbox"].uxp-reset--complete.spectrum-Textfield.spectrum-Textfield {
  /* Nuclear reset */
  all: unset !important;
  
  /* Re-establish fundamentals */
  box-sizing: border-box !important;
  display: inline-flex !important;
  align-items: center !important;
  position: relative !important;
  
  /* Official Spectrum foundation - NO BORDER HERE */
  width: 100% !important;
  min-width: 240px !important;
  min-height: var(--spectrum-component-height-200) !important;
  
  /* Typography using official tokens */
  font-family: var(--spectrum-sans-font-family-stack) !important;
  font-size: var(--spectrum-font-size-100) !important;
  font-weight: var(--spectrum-font-weight-regular) !important;
  line-height: var(--spectrum-line-height-100) !important;
  
  /* Container styling - follows official pattern */
  background-color: transparent !important; /* Container is transparent */
  border: none !important; /* NO border on container */
  padding: 0 !important; /* NO padding on container */
  
  /* Content colors */
  color: var(--spectrum-neutral-content-color-default) !important;
  
  /* Smooth transitions */
  transition: none !important; /* Transitions on input only */
}

/* INPUT element - this gets the border like official Spectrum */
div[role="textbox"].uxp-reset--complete.spectrum-Textfield.spectrum-Textfield input {
  /* Nuclear reset for the actual input */
  all: unset !important;
  
  /* Re-establish basics */
  box-sizing: border-box !important;
  display: block !important;
  width: 100% !important;
  min-height: var(--spectrum-component-height-200) !important;
  
  /* Typography inheritance */
  font-family: var(--spectrum-sans-font-family-stack) !important;
  font-size: var(--spectrum-font-size-100) !important;
  font-weight: var(--spectrum-font-weight-regular) !important;
  line-height: var(--spectrum-line-height-100) !important;
  color: var(--spectrum-neutral-content-color-default) !important;
  
  /* OFFICIAL SPECTRUM APPROACH: Border goes on INPUT */
  background-color: var(--spectrum-background-layer-1-color) !important;
  border: 2px solid #ff0000 !important; /* DEBUG: Red border on INPUT */
  border-radius: var(--spectrum-corner-radius-100) !important;
  padding: 0 var(--spectrum-spacing-300) !important;
  
  /* UXP compatibility - NUCLEAR RESET */
  -webkit-appearance: none !important;
  appearance: none !important;
  -webkit-user-select: text !important;
  user-select: text !important;
  outline: none !important;
  
  /* Remove any UXP styling attempts */
  text-shadow: none !important;
  filter: none !important;
  box-shadow: none !important;
  
  /* Transitions */
  transition: 
    border-color var(--spectrum-animation-duration-100) ease-out !important;
}

/* NUCLEAR DIRECT ELEMENT TARGETING - Based on working TextArea.css */
input[type="text"], input[type="email"], input[type="password"], input[type="number"], 
input[type="tel"], input[type="url"], input[type="search"], input {
  /* Force UXP compatibility - NUCLEAR OPTION from TextArea.css */
  -webkit-appearance: none !important;
  appearance: none !important;
  
  /* Custom styling - OVERRIDE EVERYTHING like TextArea.css */
  padding: 8px 12px !important;
  margin: 0 !important;
  border: 2px solid #ff0000 !important; /* DEBUG: Red border like TextArea approach */
  border-radius: 6px !important;
  background-color: var(--spectrum-background-layer-1-color) !important;
  background: var(--spectrum-background-layer-1-color) !important;
  background-image: none !important;
  font-size: 14px !important;
  color: var(--spectrum-neutral-content-color-default) !important;
  outline: none !important;
  width: 100% !important;
  font-family: var(--spectrum-sans-font-family-stack) !important;
  transition: all 200ms ease !important;
  
  /* Remove ALL UXP defaults like TextArea.css */
  box-shadow: none !important;
  text-shadow: none !important;
  filter: none !important;
  min-width: auto !important;
  min-height: auto !important;
  height: auto !important;
}

/* Placeholder styling */
div[role="textbox"].uxp-reset--complete.spectrum-Textfield.spectrum-Textfield input::placeholder {
  color: var(--spectrum-neutral-subdued-content-color-default) !important;
  opacity: 1 !important;
}

/* Hover State - border color changes on input */
div[role="textbox"].uxp-reset--complete.spectrum-Textfield.spectrum-Textfield:hover:not([aria-disabled="true"]) input {
  border-color: #00ff00 !important; /* DEBUG: Green border on hover */
}

/* Focus State - border color changes on input */
div[role="textbox"].uxp-reset--complete.spectrum-Textfield.spectrum-Textfield:focus-within input {
  border-color: #0000ff !important; /* DEBUG: Blue border on focus */
}

/* NUCLEAR DIRECT ELEMENT HOVER/FOCUS - Based on working TextArea.css */
input[type="text"]:hover, input[type="email"]:hover, input[type="password"]:hover, 
input[type="number"]:hover, input[type="tel"]:hover, input[type="url"]:hover, 
input[type="search"]:hover, input:hover {
  border-color: #00ff00 !important; /* DEBUG: Green border like TextArea approach */
}

input[type="text"]:focus, input[type="email"]:focus, input[type="password"]:focus, 
input[type="number"]:focus, input[type="tel"]:focus, input[type="url"]:focus, 
input[type="search"]:focus, input:focus {
  border-color: #0000ff !important; /* DEBUG: Blue border like TextArea approach */
  box-shadow: 0 0 0 1px #0000ff !important;
}

/* Invalid State - Red border on input */
div[role="textbox"].uxp-reset--complete.spectrum-Textfield.spectrum-Textfield[aria-invalid="true"] input {
  border-color: var(--spectrum-negative-background-color-default) !important;
}

/* Disabled State */
div[role="textbox"].uxp-reset--complete.spectrum-Textfield.spectrum-Textfield[aria-disabled="true"] {
  cursor: not-allowed !important;
}

div[role="textbox"].uxp-reset--complete.spectrum-Textfield.spectrum-Textfield[aria-disabled="true"] input {
  background-color: var(--spectrum-disabled-background-color) !important;
  border-color: var(--spectrum-disabled-border-color) !important;
  color: var(--spectrum-disabled-content-color) !important;
  cursor: not-allowed !important;
  pointer-events: none !important;
}

div[role="textbox"].uxp-reset--complete.spectrum-Textfield.spectrum-Textfield[aria-disabled="true"] input::placeholder {
  color: var(--spectrum-disabled-content-color) !important;
}

/* =============================================================================
   LABEL STYLING - OFFICIAL SPECTRUM TOKENS
   ============================================================================= */

/* Label for TextField */
.spectrum-FieldLabel.spectrum-FieldLabel--sizeM {
  /* Nuclear reset */
  all: unset !important;
  
  /* Re-establish fundamentals */
  box-sizing: border-box !important;
  display: block !important;
  
  /* Official Spectrum typography */
  font-family: var(--spectrum-sans-font-family-stack) !important;
  font-size: var(--spectrum-font-size-100) !important;
  font-weight: var(--spectrum-font-weight-medium) !important;
  line-height: var(--spectrum-line-height-100) !important;
  
  /* Colors using official tokens */
  color: var(--spectrum-neutral-content-color-default) !important;
  
  /* Spacing */
  margin-bottom: var(--spectrum-spacing-100) !important;
}

/* Required indicator */
.spectrum-FieldLabel .spectrum-FieldLabel-requiredIcon {
  color: var(--spectrum-negative-background-color-default) !important;
  margin-left: var(--spectrum-spacing-75) !important;
}

/* =============================================================================
   HELP TEXT AND ERROR MESSAGES
   ============================================================================= */

/* Help text styling */
.spectrum-HelpText.spectrum-HelpText--sizeM {
  /* Nuclear reset */
  all: unset !important;
  
  /* Re-establish fundamentals */
  box-sizing: border-box !important;
  display: block !important;
  
  /* Typography */
  font-family: var(--spectrum-sans-font-family-stack) !important;
  font-size: var(--spectrum-font-size-75) !important;
  line-height: var(--spectrum-line-height-100) !important;
  
  /* Colors */
  color: var(--spectrum-neutral-subdued-content-color-default) !important;
  
  /* Spacing */
  margin-top: var(--spectrum-spacing-100) !important;
}

/* Error message styling */
.spectrum-HelpText.spectrum-HelpText--negative {
  color: var(--spectrum-negative-background-color-default) !important;
}

/* =============================================================================
   SIZE VARIANTS - OFFICIAL SPECTRUM TOKENS
   ============================================================================= */

/* Small Size */
div[role="textbox"].uxp-reset--complete.spectrum-Textfield.spectrum-Textfield.spectrum-Textfield--sizeS input {
  min-height: var(--spectrum-component-height-100) !important;
  font-size: var(--spectrum-font-size-75) !important;
  padding: 0 var(--spectrum-spacing-200) !important;
}

/* Large Size */
div[role="textbox"].uxp-reset--complete.spectrum-Textfield.spectrum-Textfield.spectrum-Textfield--sizeL input {
  min-height: var(--spectrum-component-height-300) !important;
  font-size: var(--spectrum-font-size-200) !important;
  padding: 0 var(--spectrum-spacing-400) !important;
}

/* =============================================================================
   MULTILINE VARIANT (TEXTAREA)
   ============================================================================= */

/* Multiline container adjustments */
div[role="textbox"].uxp-reset--complete.spectrum-Textfield.spectrum-Textfield.spectrum-Textfield--multiline {
  align-items: flex-start !important;
  min-height: 80px !important;
}

div[role="textbox"].uxp-reset--complete.spectrum-Textfield.spectrum-Textfield.spectrum-Textfield--multiline textarea {
  /* Nuclear reset for textarea */
  all: unset !important;
  
  /* Re-establish basics */
  box-sizing: border-box !important;
  display: block !important;
  width: 100% !important;
  min-height: 80px !important;
  resize: vertical !important;
  
  /* Typography inheritance */
  font-family: var(--spectrum-sans-font-family-stack) !important;
  font-size: var(--spectrum-font-size-100) !important;
  font-weight: var(--spectrum-font-weight-regular) !important;
  line-height: var(--spectrum-line-height-100) !important;
  color: var(--spectrum-neutral-content-color-default) !important;
  
  /* OFFICIAL SPECTRUM APPROACH: Border goes on TEXTAREA */
  background-color: var(--spectrum-background-layer-1-color) !important;
  border: 2px solid #ff0000 !important; /* DEBUG: Red border on TEXTAREA */
  border-radius: var(--spectrum-corner-radius-100) !important;
  padding: var(--spectrum-spacing-200) var(--spectrum-spacing-300) !important;
  
  /* UXP compatibility - NUCLEAR RESET */
  -webkit-appearance: none !important;
  appearance: none !important;
  -webkit-user-select: text !important;
  user-select: text !important;
  outline: none !important;
  
  /* Remove any UXP styling attempts */
  text-shadow: none !important;
  filter: none !important;
  box-shadow: none !important;
  
  /* Transitions */
  transition: 
    border-color var(--spectrum-animation-duration-100) ease-out !important;
}

div[role="textbox"].uxp-reset--complete.spectrum-Textfield.spectrum-Textfield.spectrum-Textfield--multiline textarea::placeholder {
  color: var(--spectrum-neutral-subdued-content-color-default) !important;
  opacity: 1 !important;
}

/* =============================================================================
   FIELD CONTAINER LAYOUT
   ============================================================================= */

/* Container for the entire field (label + input + help text) */
.spectrum-Field {
  display: flex !important;
  flex-direction: column !important;
  align-items: flex-start !important;
  width: 100% !important;
  margin-bottom: var(--spectrum-spacing-300) !important;
}

/* Ensure proper spacing between fields */
.spectrum-Field + .spectrum-Field {
  margin-top: var(--spectrum-spacing-200) !important;
}